Use the STM-based 'transaction' module.
